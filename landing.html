<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose a Service</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="landing-page">
    <header class="landing-banner">
        <div class="landing-banner__logo">
            <img src="seco-logo.png" alt="SECO Energy Logo" class="logo" />
        </div>
        <div class="landing-banner__content">
            <h1>Service Portal</h1>
            <p class="lede">Submit a ticket for IT, facilities, electrical, moves, or warehouse. Technicians can access the staff portal.</p>
        </div>
    </header>

    <div class="landing-intro">
        <h2>What can we help you with today?</h2>
    </div>

    <div id="landing-user-info" class="landing-user-info" style="display:none;">
        <p>Logged in as: <strong id="landing-user-name"></strong></p>
        <button id="landing-logout-btn">Sign Out</button>
    </div>

    <main class="landing-grid">
        <a class="landing-card" href="customer-it.html">
            <div class="landing-card__icon">ğŸ’»</div>
            <h3>Information Technology</h3>
            <p>Accounts, devices, software, network, phones.</p>
            <span class="landing-card__cta">Submit IT ticket â†’</span>
        </a>
        <a class="landing-card" href="customer-buildings.html">
            <div class="landing-card__icon">ğŸ¢</div>
            <h3>Buildings &amp; Grounds</h3>
            <p>HVAC, plumbing, carpentry, grounds, custodial.</p>
            <span class="landing-card__cta">Submit Facilities ticket â†’</span>
        </a>
        <a class="landing-card" href="customer-electrical.html">
            <div class="landing-card__icon">âš¡</div>
            <h3>Electrical Services</h3>
            <p>Power, lighting, panels, safety, generators.</p>
            <span class="landing-card__cta">Submit Electrical ticket â†’</span>
        </a>
        <a class="landing-card" href="customer-moves.html">
            <div class="landing-card__icon">ğŸ“¦</div>
            <h3>Move Request</h3>
            <p>Office moves, furniture, IT equipment relocation.</p>
            <span class="landing-card__cta">Submit Move request â†’</span>
        </a>
        <a class="landing-card" href="customer-rma.html">
            <div class="landing-card__icon">ğŸ”„</div>
            <h3>RMA / Warehouse</h3>
            <p>Returns, exchanges, parts requests, inventory.</p>
            <span class="landing-card__cta">Submit RMA request â†’</span>
        </a>
        <a class="landing-card landing-card--tech" href="tech-login.html">
            <div class="landing-card__icon">ğŸ› ï¸</div>
            <h3>Staff Portal</h3>
            <p>For technicians and administrators only.</p>
            <span class="landing-card__cta">Staff login â†’</span>
        </a>
    </main>

    <script>
        // Check if customer is logged in
        const customerInfo = localStorage.getItem('customerInfo');
        if (!customerInfo) {
            // Redirect to login if not logged in
            window.location.href = 'index.html';
        } else {
            // Show user info
            const info = JSON.parse(customerInfo);
            const userInfoDiv = document.getElementById('landing-user-info');
            const userNameSpan = document.getElementById('landing-user-name');
            if (userInfoDiv && userNameSpan) {
                userNameSpan.textContent = info.name;
                userInfoDiv.style.display = 'block';
            }

            // Handle logout
            const logoutBtn = document.getElementById('landing-logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    localStorage.removeItem('customerInfo');
                    localStorage.removeItem('customerAuthToken');
                    window.location.href = 'index.html'; // Redirect to customer login
                });
            }
        }
    </script>
</body>
</html>
